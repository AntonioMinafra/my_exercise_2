<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My exercise</title>
    <style>
    body {
        background-color: antiquewhite;
        color: rgb(180, 117, 35);
    }
    input {
        margin-top: 5px;
        border-radius: 5px;
    }
    .btn_submit {
        border-radius: 10px;
        padding-left: 10px;
        padding-right: 10px;
        background-color: rgb(97, 61, 14);
        color: white;
    }
    .btn_reset {
        border-radius: 10px;
        padding-left: 10px;
        padding-right: 10px;
        background-color: rgb(97, 61, 14);
        color: white;
    }
    </style>
</head>
<body>
    <form id="searchForm">
        Cognome:
        <input type="text" name="username" size="40" maxlength="40">
        <br>
        Nome:
        <input type="text" name="name" size="30" maxlength="30">
        <br>
        Matricola:
        <input type="text" name="freshMan" size="12" maxlength="12">
        <br>
        Regione:
        <select name="region">
            <option value="none" selected>Seleziona</option>
            <option value="valdaosta">Val d'Aosta</option>
            <option value="piemonte">Piemonte</option>
            <option value="liguria">Liguria</option>
            <option value="lombardia">Lombardia</option>
            <option value="veneto">Veneto</option>
            <option value="trentino">Trentino Alto Adige</option>
            <option value="friuli">Friuli Venezia-Giulia</option>
            <option value="emilia">Emilia-Romagna</option>
            <option value="toscana">Toscana</option>
            <option value="marche">Marche</option>
            <option value="umbria">Umbria</option>
            <option value="lazio">Lazio</option>
            <option value="abruzzo">Abruzzo</option>
            <option value="molise">Molise</option>
            <option value="campania">Campania</option>
            <option value="basilicata">Basilicata</option>
            <option value="puglia">Puglia</option>
            <option value="calabria">Calabria</option>
            <option value="sicilia">Sicilia</option>
            <option value="sardegna">Sardegna</option>
        </select>
        <br>
        Email:
        <input type="email" name="email" size="30" maxlength="30">
        <br>
        Telefono:
        <input type="number" name="phone" size="15" maxlength="15">
        <br>
        Richieste particolari:
        <br>
        <textarea name="request" cols="60" rows="12"></textarea>
        <br>
        <button class="btn_submit" onclick="validaForm(event)" type="submit">Invia</button><!-- chiamata la funzione al click -->
        <button class="btn_reset" type="reset">Reset</button>
    </form>
    <script>
        /* funzione che ingloba il tutto per non inviare in form */
        function validaForm() {
            event.preventDefault();
            /* due variabili create per selezionare gli elementi del form prendendo il loro name */
            let inputsWithName = document.querySelectorAll('input[name]');
            let selectWithName = document.querySelectorAll('select[name]');
            /* -Queste due variabili creano nella console una nodelist (array) con i suoi oggetti */
            console.log(selectWithName)
            console.log(inputsWithName)
            /* ciclo con nuova sintassi come iteratore che va a scorrere i select nel form con i suoi option  mettendo l'if che segue  */
            for(let i in selectWithName) {
                if(selectWithName[i].value ==="none") {
                    alert(" il campo " + selectWithName[i].name + " è obligatorio")
                    break;
                }
            };
            /* altro ciclo per scorrere gli oggetti della nodelist con il valore del name vuoto */
            for(let i in inputsWithName) {
                if(inputsWithName[i].value ==="") {
                    alert(" il campo " + inputsWithName[i].name + " è obligatorio")
                    break;
                }
            };
        };
 </script>
</body>
</html>